---
layout: single
title: "33장 스위치와 라우터에서의 데이터 전달과 처리"
# categories: Git
categories:
  - network # HTML CSS JavaScript Server Algorithm Wecode Programmers CS vsCode
tag: [모두의 네트워크] #tag는 여러개 가능함
toc: true #table of content 기능!
toc_sticky: true
author_profile: true #blog 글안에서는 author_profile이 따라다니지 않도록 설정함
date: 2022-05-12T11:00:00+09:00   
# sidebar:
# nav: "docs" #네비게이션에 있는 docs를 의미함
---  
# 33장 스위치와 라우터에서의 데이터 전달과 처리
<span style="color:red">스위치</span> 내에 대응되는 OSI 모델의 계층은 <span style="color:blue">물리 계층</span>과 <span style="color:blue">데이터 링크 계층</span>이다.  
<span style="color:red">라우터</span> 내에 대응되는 OSI 모델의 계층은 <span style="color:blue">물리 계층</span>, <span style="color:blue">데이터 링크 계층</span>, <span style="color:blue">네트워크 계층</span>이다.  

## (1) 스위치에서의 데이터 전달과 처리
<img src="https://user-images.githubusercontent.com/87808288/167977868-a9aece8d-8341-46e6-be7f-2ac62b54619f.png" width="500">  

아래의 그림에서 스위치 A는 데이터 링크 계층에서 데이터를 전기 신호로 변환하여 라우터 A로 전송한다.  
<img src="https://user-images.githubusercontent.com/87808288/167978100-eca98769-7cda-476d-a97b-0e4bc9487240.png" width="500">  

## (2) 라우터에서의 데이터 전달과 처리
계속해서 데이터는 아래의 그림처럼, 스위치 A에서 라우터 A로 전기 신호로 전달된다.  
<img src="https://user-images.githubusercontent.com/87808288/167977868-a9aece8d-8341-46e6-be7f-2ac62b54619f.png" width="500">  

라우터 A에서의 캡슐화와 역캡슐화에 대해 살펴보자면,  
아래의 그림과 같이 스위치 A에서 데이터가 전기 신호로 변환되어 케이블을 통해 흘러가  
라우터 A에 도착하면 라우터 A는 데이터 링크 계층에서 이더넷 프레임의 목적지 MAC 주소와 자신의 MAC 주소를 비교한다.  
이때 주소가 같으면 -> 이더넷 헤더와 트레일러를 분리하는 역캡슐화를 수행한다.  
다음으로 네트워크 계층에 전달하고 자신의 라우팅 테이블과 목적지 IP 주소를 비교한다.  
<img src="https://user-images.githubusercontent.com/87808288/167978897-9745d384-bcf3-4320-9595-d406f832efcd.png" width="600">  

라우터 A의 라우팅 테이블에서 목적지 IP 주소의 경로를 알 수 있으므로 라우팅을 할 수 있다.  
아래의 그럼처럼 현재 출발지 IP 주소 192.168.1.10을  
라우터의 외부 IP 주소(실제로는 왠(WAN)측)인 172.16.0.1로 변경한다.  
그런 다음 데이터 링크 계층으로 전달하여 라우터 B로 보내지도록 이더넷 헤더와 트레일러를 붙인 후 ->  
물리 계층에서 데이터를 전기 신호로 변환하여 네트워크로 전달한다.  
<img src="https://user-images.githubusercontent.com/87808288/167979418-2f9cc9e3-b43d-42a0-bb08-6686adea6c17.png" width="500">  

그다음 데이터는 전기 신호 형태로 라우터 A에서 라우터 B로 전달된다.  
라우터 B에서 이루어지는 OSI 모델의 역캡슐화와 캡슐화를 살펴보면  
아래의 그림과 같이 데이터가 전기 신호로 변환되어 케이블을 통해 라우터 A에서 라우터 B에 도착하면  
라우터 B는 이더넷 프레임의 목적지 MAC 주소와 자신의 MAC 주소를 비교한다.  
주소가 같으면 이더넷 헤더와 트레일러를 분리하는 역캡슐화를 수행한다.  
그다음 네트워크 계층으로 전달되면 자신의 라우팅 테이블과 목적지 IP 주소를 비교한다.  
라우터 A와 마찬가지로 라우팅 테이블을 확인하는 이유는 -> 라우터 B도 목적지의 네트워크를 알아야 하기 때문이다.  
<img src="https://user-images.githubusercontent.com/87808288/167979925-c4e16e5b-2315-4d31-add6-62e6bec61889.png" width="500">  

그리고 아래와 같이 현재의 출발지 IP 주소 172.16.0.1을 라우터 B의 내부 IP 주소(실제는 랜(LAN) 측)인  
192.168.10.1로 변경한다.  
그런 다음 데이터 링크 계층에 전달하여 스위치에 전달되도록 이더넷 헤더와 트레일러(FCS)를 붙인 후  
물리 계층에서 데이터를 전기 신호로 변환하여 네트워크로 전달한다.  
<img src="https://user-images.githubusercontent.com/87808288/167980643-3a018b48-e1bd-4fae-ba0c-e8be86c8c2d9.png" width="500">  

이제는 전기 신호 형태의 데이터가 라우터 B에서 스위치 B로 전달된다.  
스위치 B는 전기 신호를 데이터 링크 계층에서 처리하고 웹 서버에 데이터를 전기 신호로 전달한다.  

아래의 그림과 같이 전기 신호를 데이터 링크 계층에서 처리하고 웹 서버에 데이터를 전기 신호로 전달한다.  
<img src="https://user-images.githubusercontent.com/87808288/167981193-21b7c328-4d13-48bb-a899-61a2382f033e.png" width="500">  

<!-- ### 2. Link 넣기

```

유형 1: (설명어를 입력) : [gunhee's coding blog](https://gunhee-jeong.github.io/)
유형 2: (URL 자동연결) : <https://gunhee-jeong.github.io/>
유형 3: (동일 파일 내 '문단으로 이동') : [1. Header로 이동](###-1-header)

```

유형 1: (설명어를 입력) : [gunhee's coding blog](https://gunhee-jeong.github.io/)
유형 2: (URL 자동연결) : <https://gunhee-jeong.github.io/>
유형 3: (동일 파일 내 '문단으로 이동') : [1. Header로 이동](#1-header)
유형 3의 방법

1. 특수문자를 제거
2. 스페이스는 -로 바꾸고
3. 대문자는 소문자로!
   그래서 ### 1. Header -> #1-header

## Link: [google][https://www.google.com/]

### 3. 수평선

```

---

```

---

### 4. 라인 바꾸기

```

스페이스바를 2번 눌러주면 다음칸으로
이동할 수 있어요!

```

---

스페이스바를 2번 눌러주면
다음칸으로 이동할 수 있어요!

### 5. list 만들기

```

1. 1번
2. 2번
3. 3번

- 순서없는 list
  - 순서없는 list
    - 순서없는 list

```

1. 1번
2. 2번
3. 3번

- 순서없는 list
  - 순서없는 list
    - 순서없는 list

---

### 6. font 관련

```

**진하게** -> 볼드
_기울여서_ -> 이탤릭체
~~취소선~~ -> 취소선

<ul>밑줄넣기</ul> -> 밑줄
<span style="color:red">빨간 글씨</span> -> 글자색
이것이 `인라인` 입니다 -> 인라인 코드
```

**진하게** -> 볼드
_기울여서_ -> 이탤릭체
~~취소선~~ -> 취소선
<u>밑줄넣기</u> -> 밑줄
<span style="color:red">빨간 글씨</span>
이것이 `인라인` 입니다 -> 인라인 코드

---

### 7. 인용구문

```
> coding
>
> > JavaScript
> >
> > > 내가 프짱!
```

> coding
>
> > JavaScript
> >
> > > 내가 프짱!

---

### 8. 이미지 삽입

```
유형1: ('사이즈를 조절' -> HTML 태그 사용) : <img src="https://gunhee-jeong.github.io/assets/images/blogLogo.png" width="300" height="200">
유형2: (이미지 삽입 후 -> 링크 걸기)
[![이미지](https://gunhee-jeong.github.io/assets/images/blogLogo/blogLogo.png)](https://gunhee-jeong.github.io/)
```

유형1: ('사이즈를 조절' -> HTML 태그 사용) : <img src="https://gunhee-jeong.github.io/assets/images/blogLogo.png" width="300" height="200">
유형2: (이미지 삽입 후 -> 링크 걸기)
[![이미지](https://gunhee-jeong.github.io/assets/images/blogLogo.png)](https://gunhee-jeong.github.io/)

### 9. 표 만들기

```
||국어|영어|
| :--- | ---: | :--: |
|건희 | 100점 | 100점
|철수 | 100점 | 100점
```

|      |  국어 | 영어  |
| :--- | ----: | :---: |
| 건희 | 100점 | 100점 |
| 철수 | 100점 | 100점 |

> - header를 넣고 싶은 경우 ---을 사용하고 :을 이용하여 정렬에 사용함!

### 10. 토글 만들기

```
<details>
<summary>여기를 누르세요</summary>
<div markdown="1">
숨겨진 내용
</div>
</details>
```

<details>
<summary>여기를 누르세요</summary>
<div markdown="1">
숨겨진 내용
</div>
</details> -->
