---
layout: single
title: "모두의 네트워크 -> 5장 네트워크 계층: 목적지에 데이터 전달하기"
# categories: Git
categories:
  - network # HTML CSS JavaScript Server Algorithm Wecode Programmers CS vsCode
tag: [모두의 네트워크] #tag는 여러개 가능함
toc: true #table of content 기능!
toc_sticky: true
author_profile: true #blog 글안에서는 author_profile이 따라다니지 않도록 설정함
date: 2022-05-02T01:11:00+09:00   
# sidebar:
# nav: "docs" #네비게이션에 있는 docs를 의미함
---  
# 17장 네트워크 계층의 역할
## 1. 네트워크 간의 연결 구조
`데이터 링크 계층`에서는 <span style="color:blue">이더넷 규칙</span>을 기반으로 데이터의 전송을 담당하게된다.  
이 규칙에 따라 <u>같은 네트워크에 있는 컴퓨터로는 데이터를 전송할 수 있지만</u>,   
<span style="color:royalblue">인터넷이나 다른 네트워크로는 데이터를 전송할 수 없다</span>.   

 <img src="https://user-images.githubusercontent.com/87808288/177570056-ecb9eff9-da8e-4857-9477-1440128cc918.png" width="400">   

네트워크 간의 통신을 가능하게 하는 것이 네트워크 계층의 역할이다.  
이 계층을 통해 <span style="color:blue">다른 네트워크로 데이터를 전송</span>하려면 <span style="color:red">라우터</span>(router)라는 네트워크 장비가 필요하다.  
라우터는 데이터의 목적지가 정해지면 해당 목적지까지 어떤 경로로 가는 것이 좋은지 알려주는 기능을 한다.  

하지만 데이터를 보내려는 상대가 어디에 있는지 모르면 라우터도 목적지까지의 경로를 알려 주지 못한다.  
우편물이라고 생각하면 -> <u>보내는 주소를 모르기 때문에</u> 배송할 수 없는 것이다.  
네트워크에서도 데이터를 보내려면 목적지 주소가 반드시 있어야하는 것이다.  
<span style="color:red">랜</span>에서는 `MAC 주소만으로도 통신`할 수 있었지만,  
`다른 네트워크에서는 데이터`를 보낼 수 없고, 그래서 MAC 주소가 아닌 네트워크를 식별할 수 있는  
다른 주소가 필요했고 -> 이것을 우리는 <span style="color:red">IP 주소</span>라고 한다.  
IP 주소는 <span style="color:tomato">어떤 네트워크의 어떤 컴퓨터인지를 구분할 수 있도록 하는 주소</span>를 말한다.
<img src="https://user-images.githubusercontent.com/87808288/177571902-eddb586d-0510-43b3-b13b-a11d4051c742.png" width="600">  

그런데 IP 주소로 목적지를 지정하는 것뿐만 아니라 <span style="color:blue">데이터를 어떤 경로로 보낼지</span>도 결정해야 한다.  
이처럼 목적지 IP 주소까지 어떤 경로로 데이터를 보낼지 결정하는 것을 <span style="color:red">라우팅</span>(routing)이라고 한다.  
라우터의 <span style="color:red">라우팅 테이블</span>에는 `경로 정보`가 등록되어있다.  

## 2. IP란?
`네트워크 계층`에는 <span style="color:red">IP</span>(Internet Protocol)라는 <u>프로토콜</u>이 있다.  
<span style="color:blue">네트워크 계층에서는 캡슐화할 때</span> <span style="color:red">IP 헤더</span>를 붙이게 된다.  
<img src="https://user-images.githubusercontent.com/87808288/177572241-8172c673-ba58-4e3f-b1f0-9910ec9cc300.png" width="500">  
헤더 정보 전체를 기억할 필요는 없지만,  
'<u>출발지 IP 주소</u>'와 '<u>목적지 IP 주소</u>'가 있다는 사실을 인지해야한다.  

이처럼 IP 프로토콜을 사용하여 캡슐화할 때는 데이터에 IP 헤더가 추가되는데,  
이렇게 만들어진 것을 <span style="color:blue">IP 패킷</span>이라고 한다.  
<u>데이터 링크 계층에서는 '프레임'</u>이라고 불렀는데, 네트워크 계층에서는 'IP 패킷'으로 계층에 따라 용어가 달라진다.  

# 18장 IP 주소의 구조  
## 1. IP 주소란?
IP 주소는 실생활에 비유하면 주소와 같은 개념으로 볼 수 있다.  
<u>IP 주소는</u> `인터넷 서비스 제공자(ISP)`에게 받을 수 있다.  
<span style="color:blue">데이터를 다른 네트워크로 전달</span>하려면 <span style="color:red">IP 주소</span>가 필요하다.  

IP 버전에는 <span style="color:red">IPv4</span>와 <span style="color:red">IPv6</span>가 있다.  
현재 주로 사용되는 <span style="color:blue">IPv4 주소는 32비트</span>로 되어 있어서 IP 주소를 약 43억 개 만들 수 있는데,  
처음 IP 주소를 만들 때는 43억 개면 충분하다고 판단했었다.  
하지만 인터넷이 널리 보급되면서 IP 주소가 부족했고 -> IPv6 주소를 사용하게 되었다.  
<span style="color:blue">IPv6는 128비트</span>로 되어 있어서 IPv4 주소보다 많은 IP 주소를 만들 수 있다.  

IPv4 주소는 위의 설명대로 주소의 수가 고갈되고 있다.  
따라서 인터넷에 직접 연결되는 컴퓨터나 라우터에는 <span style="color:red">공인 IP 주소</span>를 할당하고,  
회사나 가정의 랜에 있는 컴퓨터는 <span style="color:red">사설 IP 주소</span>를 할당하게 된 것이다.  

랜 안에 컴퓨터가 여러 대가 있다면 공인 IP 주소는 사용할 수 있는 숫자가 제한되므로 컴퓨터 한 대당  
공인 IP 조수를 하나씩 할당하기가 어렵다.  
그래서 우선 인터넷 서비스 공급자가 제공하는 <u>공인 IP 주소는 라우터에만 할당</u>하고 랜 안에 있는 컴퓨터에는  
랜의 네트워크 관리자가 자유롭게 사설 IP 주소를 할당하거나 라우터의 DHCP 기능을 사용하여  
주소를 자동으로 할당하고 있다.  
<img src="https://user-images.githubusercontent.com/87808288/177573602-8ff63468-efbb-4743-8ac3-1444c06b928a.png" width="500">  

`MAC 주소`는 <span style="color:blue">48비트</span>로 구분하기 쉽도록 <span style="color:blue">16진수</span>로 표시하고,  
`IP 주소`는 <span style="color:blue">32비트</span>로 구분하기 쉽도록 <span style="color:blue">10진수</span>로 표시한다.  
<img src="https://user-images.githubusercontent.com/87808288/177575446-6fd0ae49-bb04-4eee-a0c6-a0ca15b34cc2.png" width="500">  
<img src="https://user-images.githubusercontent.com/87808288/177575710-8179c638-ee20-4c16-8f89-622ffaad3a36.png" width="500">  
이처럼 10진수로 표시하지만 실제로 <span style="color:royalblue">IP 주소는 2진수로</span> 되어 있다.  
32비트를 8비트씩 끊어서 네 개의 <span style="color:royalblue">옥텟</span>으로 구분하고 있고, 숫자의 범위도 정해져 있다.  
<img src="https://user-images.githubusercontent.com/87808288/177576452-29509f6d-01bd-42f8-b67b-9ce5f7b06520.png" width="500">  
또한 IP 주소는 `네트워크 ID`와 `호스트 ID`로 나누어져 있다.  

<span style="color:red">네트워크 ID</span>는 '어떤 네트워크'인지를 나타내고, <span style="color:red">호스트 ID</span>는 '해당 네트워크의 어느 컴퓨터'인지를 나타내게된다.  
이 두 가지 정보가 합쳐져서 IP 주소가 되는 것이다.  
<img src="https://user-images.githubusercontent.com/87808288/177577167-eb403413-22e6-410e-ad84-e36ed77d2328.png" width="500">  

# 19장 IP 주소의 클래스 구조
## 1. IP 주소 클래스란?
IPv4의 IP 주소는 32비트이다.  
비트로 구분하지만 네트워크 ID를 크게 만들거나 호스트 ID를 작게 만들어 네트워크 크기를 조정할 수도 있다.  
네트워크 크기는 <span style="color:blue">클래스</span>라는 개념으로 구분하고 있다.  

<img src="https://user-images.githubusercontent.com/87808288/177587887-9ffa786f-2230-495f-9937-3c4e12f76389.png" width="600">  
<u>일반</u> 네트워크에서는 <span style="color:blue">A~C 클래스</span>까지 사용할 수 있다.  
A 클래스는 -> 처음 8비트가 네트워크 ID고 다음 24비트가 호스트 ID이다.   
B 클래스는 -> 처음 16비트가 네트워크 ID고 다음 16비트가 호스트 ID이다.  
C 클래스는 -> 처음 24비트가 네트워크 ID고 다음 8비트가 호스트 ID이다.  
<span style="color:blue">C 클래스 네트워크에서 최대로 할당할 수 있는 IP 주소</span>는 <span style="color:red">254개</span>이다.  

사설 IP 주소는 절대로 공인 IP 주소로 사용할 수 없다.  

# 20장 네트워크 주소와 브로드캐스트 주소의 구조
## 1. 네트워크 주소와 브로드캐스트 주소란?
IP 주소에는 <span style="color:blue">네트워크 주소</span>와 <span style="color:blue">브로드캐스트 주소</span>가 존재한다.  
이 두 주소는 특별한 주소로 컴퓨터나 라우터가 자신의 IP로 사용하면 안되는 주소이다.  
<u>호스트 ID</u>가 10진수고 <span style="color:royalblue">첫 번째 숫자가 0</span>이면 <span style="color:blue">네트워크 주소</span>고, -> 192.168.1.<u>0</u>  
<u>호스트 ID</u>가 10진수고 마지막 숫자가 255면 브로드캐스트 주소이다. -> 192.168.1.<u>255</u>  

`네트워크 주소`는 전체 네트워크에서 <u>작은 네트워크를 식별하는 데 사용</u>하고  
<u>호스트 ID가 10진수로 0이면</u> <span style="color:royalblue">그 네트워크 전체를 대표하는 주소</span>가 되는 것이다.  
<img src="https://user-images.githubusercontent.com/87808288/177590009-d5ee30ce-4ccc-441a-a895-dc020d5c9166.png" width="500">  

`브로드캐스트 주소`는 네트워크에 있는 컴퓨터나 장비 모두에게 <span style="color:blue">한 번에 데이터를 전송하는 데 사용되는 전용 IP</span> 주소다.  
전체 네트워크에 데이터를 전송하려면 호스트 ID에 255를 설정하면 되는 것이다.  
<img src="https://user-images.githubusercontent.com/87808288/177590352-e8b6c91d-2e92-4eea-a6db-b20b39e0db1e.png" width="500">  

그래서, 네트워크 주소와 브로드캐스트 주소는 자신의 IP 주소로 설정하면 안 된다.  
(<span style="color:red">네트워크 주소</span>와 <span style="color:red">브로드캐스트 주소</span>는 <span style="color:blue">컴퓨터에 할당할 수 없는 IP 주소</span>다.)  

# 21. 서브넷의 구조
## 1. 서브넷이란?
<img src="https://user-images.githubusercontent.com/87808288/177591835-d935fb4b-7ff8-4c5f-a2d4-6467cae9c2f9.png" width="600">  
A 클래스의 대규모 네트워크를 작은 네트워크로 분할하여 브로드캐스트로 전송되는 패킷의 범위를 좁힐 수 있다.  
이렇게 하면 더 많은 네트워크를 만들 수 있어서 IP 주소를 더 효과적으로 활용할 수 있다.  
이처름 <span style="color:blue">네트워크를 분할하는 것</span>을 <span style="color:red">서브넷팅(subneting)</span>이라고 하고, <span style="color:blue">분할된 네트워크</span>를 <span style="color:red">서브넷</span>이라 한다.  

A 클래스는 네트워크 ID가 8비트고 호스트 ID가 24비트이다.  
이 상태를 서브넷팅하여 작은 네트워크로 분할하는 것을 말한다.  
그러면 기존에 <u>네트워크 ID와 호스트 ID</u>로 구성되어 있던 것이 `네트워크 ID, 서브넷 ID, 호스트 ID`로 나누어진다.  
<img src="https://user-images.githubusercontent.com/87808288/177592266-894fce28-8963-4930-8d94-4133ecbe36db.png" width="500">  
<img src="https://user-images.githubusercontent.com/87808288/177592709-0f1bdca9-f636-4369-af70-08729504b4e9.png" width="500">  
이렇게 원래 호스트 ID로 사용되던 비트를 빌려 서브넷으로 만들 수 있다.  

## 2. 서브넷 마스크란?
IP 주소를 서브넷팅하면 어디까지가 네트워크 ID고 어디부터가 호스트 ID인지 판단하기 어려울 수 있다.  
이럴 때는 <span style="color:red">서브넷 마스크</span>라는 값을 사용한다.  
서브넷 마스크는 `네트워크 ID와 호스트 ID를 식별하기 위한 값`이다.  

<u>255.255.255.0</u>를 <span style="color:red">프리픽스 표기법</span>으로 나타내면 <span style="color:blue">/24</span>이다.  
<img src="https://user-images.githubusercontent.com/87808288/177593668-db99460a-5cdb-401b-93da-75b6cb46e454.png" width="600">  

<img src="https://user-images.githubusercontent.com/87808288/177694556-10635435-c9da-48b6-a573-eff54c8a2881.png" width="500">  
C 클래스의 IP 주소를 서브넷팅해보면  
`C 클래스`는 <u>일반적으로 네트워크 ID가 24비트</u>지만  
<u>네트워크 ID를 28비트로 변경</u>하면 <span style="color:royalblue">4비트를 호스트 ID에서</span> 빌리게 된다.  
즉, 네트워크 ID가 24비트, 서브넷 ID가 4비트, 호스트 ID가 4비트가 된다.  
<img src="https://user-images.githubusercontent.com/87808288/177694643-a6a962fb-d8e5-4202-a8a6-044c2dd459d3.png" width="500">  

# 22장 라우터의 구조  
## 1. 라우터란?  
<span style="color:blue">서로 다른 네트워크와 통신하려면</span> -> <span style="color:red">라우터</span>가 필요한데  
라우터는 아래와 같이 <u>네트워크를 분리할 수 있다</u>.  
라우터는 네트워크를 분할할 수 있지만, <span style="color:blue">스위치</span>(레이어 2)와 <span style="color:blue">허브</span>는 `분할할 수 없다`.  
<img src="https://user-images.githubusercontent.com/87808288/166711814-b515b7fc-87bd-45db-a47a-fc189c7240ce.png" width="500">  

스위치(레이어 2 스위치)만 있는 네트워크에서는 모든 컴퓨터와 스위치가 아래와 같이 동일한 네트워크에 속하게 된다.   
<img src="https://user-images.githubusercontent.com/87808288/177695398-bf789fac-e88f-4ea8-8ba4-d3ba59e6276d.png" width="500">  

네트워크를 분할한 다음 -> 컴퓨터 한 대가 다른 네트워크로 접속할 때에는
<img src="https://user-images.githubusercontent.com/87808288/177695895-67afad93-8369-4b49-b288-4bdff6f1be92.png" width="600">  
컴퓨터 1이 컴퓨터 5에 접속한다고 가정해보자.  
컴퓨터 1이 다른 네트워크에 데이터를 전송하려면 라우터의 IP 주소를 설정해야 한다.  
이것은 네트워크의 출입구를 설정하는 것으로 <span style="color:red">기본 게이트웨이</span>라고 한다.  
<span style="color:blue">컴퓨터에서 다른 네트워크로 데이터를 전송하려면 기본 게이트웨이를 설정</span>해야 한다.  
컴퓨터 1은 다른 네트워크로 데이터를 보낼 때 어디로 전송해야 하는지 알지 못하기 때문에  
라우터의 IP 주소를 지정하는 것이다.  
그래서 <span style="color:blue">네트워크의 출입구</span>를 지정하고 일단은 라우터로 데이터를 전송한다.  
여기에서 컴퓨터 1은 192.168.1.0/24 네트워크에 속해 있기 때문에 라우터의 IP 주소인 192.168.1.1로 설정한 것이다.  

## 2. 라우팅이란?
<span style="color:red">라우팅</span>은 `경로 정보를 기반으로` <u>현재의 네트워크에서 다른 네트워크로</u> <span style="color:blue">최적의 경로를 통해 데이터를 전송</span>한다.  
이 경로 정보가 등록되어 있는 테이블이 -> 라이팅 테이블이다.  

경로 정보는 -> 각 라우터의 <span style="color:red">라우팅 테이블</span>에 <span style="color:blue">경로 정보가 등록되어 있어서</span> 라우팅이 가능하다.  

라우팅 테이블은 네트워크 관리자가 수동으로 등록하는 방법과 자동으로 등록하는 방법이 있다.  
수동으로 등록하는 방법은 소규모 네트워크에 적합하고, 자동으로 등록하는 방법은 대규모 네트워크에 적합하다.  

이처럼 <span style="color:blue">라우터 간에 라우팅 정보를 교환하기 위한 프로토콜</span>을 <span style="color:red">라우팅 프로토콜</span>이라고 한다.  
이 라우팅 프로토콜을 설정하여 라우터 간에 경로 정보를 서로 교환하고 그것을 라우팅 테이블에 등록해 나가는 것이다.  


<!-- ### 2. Link 넣기

```

유형 1: (설명어를 입력) : [gunhee's coding blog](https://gunhee-jeong.github.io/)
유형 2: (URL 자동연결) : <https://gunhee-jeong.github.io/>
유형 3: (동일 파일 내 '문단으로 이동') : [1. Header로 이동](###-1-header)

```

유형 1: (설명어를 입력) : [gunhee's coding blog](https://gunhee-jeong.github.io/)
유형 2: (URL 자동연결) : <https://gunhee-jeong.github.io/>
유형 3: (동일 파일 내 '문단으로 이동') : [1. Header로 이동](#1-header)
유형 3의 방법

1. 특수문자를 제거
2. 스페이스는 -로 바꾸고
3. 대문자는 소문자로!
   그래서 ### 1. Header -> #1-header

## Link: [google][https://www.google.com/]

### 3. 수평선

```

---

```

---

### 4. 라인 바꾸기

```

스페이스바를 2번 눌러주면 다음칸으로
이동할 수 있어요!

```

---

스페이스바를 2번 눌러주면
다음칸으로 이동할 수 있어요!

### 5. list 만들기

```

1. 1번
2. 2번
3. 3번

- 순서없는 list
  - 순서없는 list
    - 순서없는 list

```

1. 1번
2. 2번
3. 3번

- 순서없는 list
  - 순서없는 list
    - 순서없는 list

---

### 6. font 관련

```

**진하게** -> 볼드
_기울여서_ -> 이탤릭체
~~취소선~~ -> 취소선

<ul>밑줄넣기</ul> -> 밑줄
<span style="color:red">빨간 글씨</span> -> 글자색
이것이 `인라인` 입니다 -> 인라인 코드
```

**진하게** -> 볼드
_기울여서_ -> 이탤릭체
~~취소선~~ -> 취소선
<u>밑줄넣기</u> -> 밑줄
<span style="color:red">빨간 글씨</span>
이것이 `인라인` 입니다 -> 인라인 코드

---

### 7. 인용구문

```
> coding
>
> > JavaScript
> >
> > > 내가 프짱!
```

> coding
>
> > JavaScript
> >
> > > 내가 프짱!

---

### 8. 이미지 삽입

```
유형1: ('사이즈를 조절' -> HTML 태그 사용) : <img src="https://gunhee-jeong.github.io/assets/images/blogLogo.png" width="300" height="200">
유형2: (이미지 삽입 후 -> 링크 걸기)
[![이미지](https://gunhee-jeong.github.io/assets/images/blogLogo/blogLogo.png)](https://gunhee-jeong.github.io/)
```

유형1: ('사이즈를 조절' -> HTML 태그 사용) : <img src="https://gunhee-jeong.github.io/assets/images/blogLogo.png" width="300" height="200">
유형2: (이미지 삽입 후 -> 링크 걸기)
[![이미지](https://gunhee-jeong.github.io/assets/images/blogLogo.png)](https://gunhee-jeong.github.io/)

### 9. 표 만들기

```
||국어|영어|
| :--- | ---: | :--: |
|건희 | 100점 | 100점
|철수 | 100점 | 100점
```

|      |  국어 | 영어  |
| :--- | ----: | :---: |
| 건희 | 100점 | 100점 |
| 철수 | 100점 | 100점 |

> - header를 넣고 싶은 경우 ---을 사용하고 :을 이용하여 정렬에 사용함!

### 10. 토글 만들기

```
<details>
<summary>여기를 누르세요</summary>
<div markdown="1">
숨겨진 내용
</div>
</details>
```

<details>
<summary>여기를 누르세요</summary>
<div markdown="1">
숨겨진 내용
</div>
</details> -->
