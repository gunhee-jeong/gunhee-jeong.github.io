---
layout: single
title: "모두의 네트워크 -> 4장 데이터 링크 계층 : 랜에서 데이터 전송하기"
# categories: Git
categories:
  - network # HTML CSS JavaScript Server Algorithm Wecode Programmers CS vsCode
tag: [모두의 네트워크] #tag는 여러개 가능함
toc: true #table of content 기능!
toc_sticky: true
author_profile: true #blog 글안에서는 author_profile이 따라다니지 않도록 설정함
date: 2022-04-26T11:30:00+09:00 
# sidebar:
# nav: "docs" #네비게이션에 있는 docs를 의미함
---   
# 12장 데이터 링크 계층의 역할과 이더넷
## 1. 이더넷이란?
랜에서 데이터를 주고받으려면 두 번째 계층인 <span style="color:blue">데이터 링크 계층</span>의 기술이 필요로하다.  
<img src="https://user-images.githubusercontent.com/87808288/165018916-ad460a58-37c8-41ff-b66d-f3b1acf8aec0.png" width="300">  
데이터 링크 계층은 네트워크 장비 간에 신호를 주고받는 규칙을 정하는 계층이다.  
그 규칙들 중 일반적으로 가장 많이 사용되는 것이 바로 <span style="color:red">이더넷(Ethernet)</span>이다.  

<span style="color:red">이더넷</span>은 여러 컴퓨터가 동시에 `데이터를 전송해도 충돌이 일어나지 않는` 구조로 되어있다.  
<img src="https://user-images.githubusercontent.com/87808288/165191652-c0ee9b14-d827-4c37-bfe1-e4daef6a97a8.png" width="300">  
예를 들어 같이 데이터가 동시에 케이블을 지나면 충돌할 수 밖에 없기 때문에 ->  
데이터를 보내는 시점을 늦추는 것이다. 이처럼 시점을 늦추는 방법을 <span style="color:blue">CSMA/CD</span>라고 한다.  
> CSMA/CD에서 `CS`는 '데이터를 보내려고 하는 컴퓨터가 <u>케이블에 신호가 흐르고 있는지 아닌지를 확인</u>한다'는  
규칙이다. 그리고 `MA`는 '<u>케이블에 데이터가 흐르고 있지 않다면 데이터를 보내도 좋다</u>'는 규칙이고  
`CD`는 '<u>충돌이 발생하고 있는지를 확인</u>한다'는 규칙을 가진다.  

그러나 지금은 효율이 좋지 않다는 이유로 CSMA/CD는 사용하지 않고 있고,  
스위치(switch)라는 네트워크 장비를 사용하고 있다.  

# 13장 MAC 주소의 구조
## 1. MAC 주소란
랜 카드는 비트열(0과 1)을 전기 신호로 변환하는데  
이러한 랜 카드에는 <span style="color:red">MAC 주소</span>라는 번호가 정해져 있다. -> 제조할 때 새겨지기 때문에 물리 주소라고도 부른다.  
(이는 전 세계에서 유일한 번호로 할당되어 있다.)  
MAC 주소는 <span style="color:red">48비트</span> 숫자로 구성되어 있다.  
그중 <u>앞쪽 24비트</u>는 랜 카드를 만든 <span style="color:blue">제조사 번호</span>고 <u>뒤쪽 24비트</u>는 제조사가 랜 카드에 붙인 <span style="color:blue">일련번호</span>이다.  
<img src="https://user-images.githubusercontent.com/87808288/177030473-63daa58d-a482-439b-a883-8b08e25cc369.png" width="300">  

OSI 모델에서는 데이터 링크 계층에 해당하고 TCP/IP 모델에서는  네트워크 계층에 해당하는데  
이 계층에서 <span style="color:red">이더넷 헤더</span>와 트레일러를 붙인다.  
이더넷 헤더는 `목적지의 MAC 주소(6바이트)`, `출발지 MAC 주소(6바이트)`, `유형(2바이트)` 이렇게 <span style="color:blue">총 14바이트</span>로 구성된다.  
<img src="https://user-images.githubusercontent.com/87808288/177030515-0d582d24-7d6c-4a5e-80a4-67aceadf88b3.png" width="500">  

<u>데이터 링크 계층에서 데이터 뒤에 추가하는 것</u>을 <span style="color:red">트레일러</span>라고 한다.  
이것은 <span style="color:tomato">FCS</span>(Frame Check Sequence)라고도 하는데, 데이터 전송 도중에 오류가 발생하는지 확인하는 용도로 사용된다.  

> <span style="color:tomato">이더넷 유형</span>(Ethernet type)은 이더넷으로 전송되는 <u>상위 계층 프로토콜의 종류</u>를 나타낸다.  
유형에 프로토콜 종류를 식별하는 번호가 들어간다.  

<u>이더넷 헤더</u>와 <u>트레일러</u>가 추가된 데이터를 <span style="color:tomato">프레임</span>이라고 한다.  
네트워크를 통해 프레임이 전송된다.  
허브에 연결된 컴퓨터의 MAC 주소는 아래의 그림과 같다.  
<img src="https://user-images.githubusercontent.com/87808288/177030685-8b45740d-5659-47c7-a65d-e0e9bee3d263.png" width="600">  

<u>컴퓨터 1에서 컴퓨터 3으로 데이터를 전송</u>한다고 가정하면...  
컴퓨터 1의 `이더넷 헤더`에 데이터의 목적지인 <span style="color:tomato">컴퓨터 3의 MAC 주소</span>와 <span style="color:tomato">자신의 MAC 주소 정보</span>를 넣도 데이터를 전송한다.  
이때 보내는 측의 <span style="color:royalblue">컴퓨터 1에서 캡슐화</span>가 일어난다.  
데이터 링크 계층에서 데이터에 이더넷 헤더와 트레일러를 추가하여 프레임을 만들고  
물리 계층에서 이 프레임 비트열을 전기 신호로 변환하여 네트워크를 통해 전송하게 된다.  

컴퓨터 1이 보낸 데이터를 1번 포트로 수신하고 2~5번의 모든 포트로 전송한다.  
데이터는 컴퓨터 2~5에 전송되지만, 컴퓨터 2, 4, 5는  
목적지 MAC 주소가 자신의 MAC 주소와 다르기 때문에 <span style="color:tomato">데이터를 파기</span>한다.  
반면 컴퓨터 3은 자신의 MAC 주소가 컴퓨터 1이 보낸 데이터의 목적지 MAC 주소와 같으므로 데이터를 수신한다.  
<img src="https://user-images.githubusercontent.com/87808288/177030874-9e687cbe-1f5c-4d08-ac4c-c648a14b5b3a.png" width="500">  

위의 경우에는 컴퓨터 1에서만 데이터를 전송했지만 컴퓨터 1과 2가 동시에 컴퓨터 3에 데이터를 전송하는 경우도 있다.  
이런 경우에는 충돌을 방지하기 위해 CSMA/CD 방식이 사용된다.  
여기에서는 충돌이 감지되면 컴퓨터 2는 잠시 대기하고 데이터를 다시 전송한다.  

# 14장 스위치의 구조
## 1. MAC 주소 테이블이란?
<span style="color:red">스위치</span>는 <span style="color:blue">데이터 링크 계층</span>에서 동작하고 <u>레이어 2 스위치</u> 또는 <u>스위칭 허브</u>라고도 불린다.  
<img src="https://user-images.githubusercontent.com/87808288/165018916-ad460a58-37c8-41ff-b66d-f3b1acf8aec0.png" width="300"><img src="https://user-images.githubusercontent.com/87808288/165022115-5729a229-007a-4ad1-bfae-754c4940490f.png" width="400">  
스위치 내부에는 <span style="color:red">MAC 주소 테이블(MAC address table)</span>이라는 것이 있다.  
`MAC 주소 테이블`은 <span style="color:blue">스위치의 포트 번호</span>와 해당 포트에 연결되어 있는 <span style="color:blue">컴퓨터의 MAC 주소</span>가 등록되는 `데이터베이스`다.  

스위치의 전원을 켠 상태에서는 아직 MAC 주소 테이블에 아무것도 등록되어 있지 않다.  
하지만 컴퓨터에서 목적지 MAC 주소가 추가된 프레임이라는 데이터가 전송되면 MAC 주소 테이블을 확인하고  
출발지 MAC 주소가 등록되어 있지 않으면 MAC 주소를 포트와 함께 등록한다. -> 이를 '<span style="color:blue">MAC 주소 학습 기능</span>'이라 한다.  

컴퓨터 1에서 -> 컴퓨터 3에 데이터를 전송하면  
아직 컴퓨터 3의 목적지 MAC 주소가 MAC 주소 테이블에 등록되어 있지 않아서 송신 포트인 1번 이외의 포트인 2~5번에  
데이터(프레임)가 전송되는데 이러한 데이터 전송을 <span style="color:red">플러딩(flooding)</span>이라고 부른다.  
이렇게 <span style="color:blue">스위치가 수신 포트 이외의 모든 포트에서 데이터를 송신하는 것</span>을 플러딩이라고 한다.  

MAC 주소 테이블에 목적지 MAC 주소가 등록되어 있다면  
컴퓨터 2, 4, 5에는 데이터가 전송되지 않고 컴퓨터 3에만 데이터가 전송된다.  
이렇게 `MAC 주소를 기준으로 목적지를 선택하는 것`을 <span style="color:red">MAC 주소 필터링</span>이라고 한다.  
이것으로 불필요한 데이터를 네트워크에 전송하지 않게 된다.  
<img src="https://user-images.githubusercontent.com/87808288/177031143-56452cd7-e4a6-490e-b52a-145b2460c71e.png" width="500">  

# 15장 데이터가 케이블에서 충돌하지 않는 구조
## 1. 전이중 통신과 반이중 통신
통신 방식에는 <span style="color:red">전이중 통신 방식</span>과 <span style="color:red">반이중 통신</span> 방식이 있다.  

[<span style="color:red">전이중 통신 방식</span>]  
`데이터의 송수신을 동시에 통신`하는 방식  
<img src="https://user-images.githubusercontent.com/87808288/177538693-c8a67f7c-4ecb-43c4-9f6a-e10fba7918a5.png" width="500">  

[<span style="color:red">반이중 통신 방식</span>]  
`회선 하나로 송신과 수신을 번갈아가면서 통신`하는 방식  

전이중 통신 방식은 데이터를 동시에 전송해도 충돌이 발생하지 않지만,  
반이중 통신 방식은 데이터를 동시에 전송하면 충돌이 발생하게 된다.  

<u>컴퓨터 1과 2</u>를 <span style="color:royalblue">직접 랜 케이블로 연결</span>한다면 -> 여덟 개, 즉 선을 네 쌍 사용하기 때문에  
<span style="color:royalblue">전이중 통신방식</span>이 되는 것이다.  

<img src="https://user-images.githubusercontent.com/87808288/177562097-eaf6f8e4-1d08-4604-93d5-cf8b486445a9.png" width="500">  
반면 `허브` 내부에는 송수신이 나누어져 있지 않기 때문에  
컴퓨터 1과 2를 허브로 연결하면 동시에 데이터를 보낼 때 <u>충돌이 발생</u>한다.  
이처럼 허브를 사용하면 회선 하나를 송신과 수신이 번갈아가면서 사용하는 <span style="color:royalblue">반이중 통신 방식</span>을 사용하게 된다.  

<img src="https://user-images.githubusercontent.com/87808288/177562945-ab71e4a3-358b-43e6-8da3-5a35b0954074.png" width="500">  
`스위치`는 <u>충돌이 일어나지 않는 구조</u>로 되어 있기 때문에 <span style="color:royalblue">전이중 통신 방식</span>으로도 데이터를 주고받을 수 있다.  

## 2. 충돌 도메인이란?
<img src="https://user-images.githubusercontent.com/87808288/177564152-83023f33-df12-4663-8c16-3ce0054b6f01.png" width="500">  
허브는 반이중 통신 방식으로 -> 동시에 데이터를 전송하면 충돌이 있어난다.  
<span style="color:blue">충돌이 발생할 때 그 영향이 미치는 범위</span>를 <span style="color:red">충돌 도메인</span>(collision domain)이라고 한다.  

<img src="https://user-images.githubusercontent.com/87808288/177564672-4cd63696-04d2-412a-a85a-f96dc5e7c22e.png" width="500">  
스위치는 데이터를 동시에 송수신할 수 있는 전이중 통신 방식이기 때문에 충돌이 일어나지 않고  
충돌 도메인의 범위도 좁다.  
<u>네트워크를 지연시키지 않기 위해서</u>라도 <span style="color:blue">충돌 도메인의 범위를 좁히는 것이 매우 중요</span>하다.  

# 16장 이더넷의 종류와 특징
## 1. 이더넷 규격
이더넷은 케이블 종류와 통신 속도에 따라 다양한 규격으로 분류된다.  
<img src="https://user-images.githubusercontent.com/87808288/177565583-d2ff505b-89fa-4e96-8ec1-aadce64354dc.png" width="600">  

[10BASE-T]  
10 -> 통신 속도 = `10`은 <span style="color:blue">Mbps</span> 단위인 <u>통신속도</u>를 나타낸다.  
BASE -> 전송 방식 = BASEBAND라는 전송방식을 나타낸다.  
T -> 케이블 = 케이블의 종류를 나타낸다.  

규격 이름을 보면 전송 방식 다음에 바로 숫자가 붙은 게 있고 하이픈(-)이 붙고 바로 뒤에 알파벳이 붙는 것이 있다.  
ex) 10BASE5, 10BASE-T  
하이픈(-) 뒤는 케이블 길이나 케이블 종류를 나타내지만, 동축케이블은 케이블의 최대 길이를 100미터 단위로 표시한다.  
에를 들어 <u>10BASE5</u>는 <span style="color:blue">케이블의 최대 길이</span>가 <span style="color:royalblue">500미터</span>이므로 5로 표시하게 되는 것이다.  
UTP 케이블은 케이블 종류를 표시하는데, 10BASE-T는 UTP 케이블을 말하는 것이다.  


<!-- ### 2. Link 넣기

```

유형 1: (설명어를 입력) : [gunhee's coding blog](https://gunhee-jeong.github.io/)
유형 2: (URL 자동연결) : <https://gunhee-jeong.github.io/>
유형 3: (동일 파일 내 '문단으로 이동') : [1. Header로 이동](###-1-header)

```

유형 1: (설명어를 입력) : [gunhee's coding blog](https://gunhee-jeong.github.io/)
유형 2: (URL 자동연결) : <https://gunhee-jeong.github.io/>
유형 3: (동일 파일 내 '문단으로 이동') : [1. Header로 이동](#1-header)
유형 3의 방법

1. 특수문자를 제거
2. 스페이스는 -로 바꾸고
3. 대문자는 소문자로!
   그래서 ### 1. Header -> #1-header

## Link: [google][https://www.google.com/]

### 3. 수평선

```

---

```

---

### 4. 라인 바꾸기

```

스페이스바를 2번 눌러주면 다음칸으로
이동할 수 있어요!

```

---

스페이스바를 2번 눌러주면
다음칸으로 이동할 수 있어요!

### 5. list 만들기

```

1. 1번
2. 2번
3. 3번

- 순서없는 list
  - 순서없는 list
    - 순서없는 list

```

1. 1번
2. 2번
3. 3번

- 순서없는 list
  - 순서없는 list
    - 순서없는 list

---

### 6. font 관련

```

**진하게** -> 볼드
_기울여서_ -> 이탤릭체
~~취소선~~ -> 취소선

<ul>밑줄넣기</ul> -> 밑줄
<span style="color:red">빨간 글씨</span> -> 글자색
이것이 `인라인` 입니다 -> 인라인 코드
```

**진하게** -> 볼드
_기울여서_ -> 이탤릭체
~~취소선~~ -> 취소선
<u>밑줄넣기</u> -> 밑줄
<span style="color:red">빨간 글씨</span>
이것이 `인라인` 입니다 -> 인라인 코드

---

### 7. 인용구문

```
> coding
>
> > JavaScript
> >
> > > 내가 프짱!
```

> coding
>
> > JavaScript
> >
> > > 내가 프짱!

---

### 8. 이미지 삽입

```
유형1: ('사이즈를 조절' -> HTML 태그 사용) : <img src="https://gunhee-jeong.github.io/assets/images/blogLogo.png" width="300" height="200">
유형2: (이미지 삽입 후 -> 링크 걸기)
[![이미지](https://gunhee-jeong.github.io/assets/images/blogLogo/blogLogo.png)](https://gunhee-jeong.github.io/)
```

유형1: ('사이즈를 조절' -> HTML 태그 사용) : <img src="https://gunhee-jeong.github.io/assets/images/blogLogo.png" width="300" height="200">
유형2: (이미지 삽입 후 -> 링크 걸기)
[![이미지](https://gunhee-jeong.github.io/assets/images/blogLogo.png)](https://gunhee-jeong.github.io/)

### 9. 표 만들기

```
||국어|영어|
| :--- | ---: | :--: |
|건희 | 100점 | 100점
|철수 | 100점 | 100점
```

|      |  국어 | 영어  |
| :--- | ----: | :---: |
| 건희 | 100점 | 100점 |
| 철수 | 100점 | 100점 |

> - header를 넣고 싶은 경우 ---을 사용하고 :을 이용하여 정렬에 사용함!

### 10. 토글 만들기

```
<details>
<summary>여기를 누르세요</summary>
<div markdown="1">
숨겨진 내용
</div>
</details>
```

<details>
<summary>여기를 누르세요</summary>
<div markdown="1">
숨겨진 내용
</div>
</details> -->
