---
layout: single
title: "레스토랑 프로젝트"
# categories: Git
categories:
  - React # HTML CSS JavaScript Server Algorithm Wecodes Programmers CS Github Blog
tag: [코드숨] #tag는 여러개 가능함
toc: true #table of content 기능!
toc_sticky: true
author_profile: true #blog 글안에서는 author_profile이 따라다니지 않도록 설정함
date: 2022-09-18T09:30:00+09:00
# sidebar:
# nav: "docs" #네비게이션에 있는 docs를 의미함
---
<style>
.crimson {
  color: crimson;
  font-weight: bold;
}

.mediumblue {
  color: mediumblue;
  font-weight: bold;
}

.forestgreen {
  color: forestgreen;
  font-weight: bold;
}
</style>

# 코드숨 레스토랑 프로젝트
# 🔴 파일 구조
① __ mocks __
- react-redux.js

② fixtures

③ public

④ src

# 🔴 기본적인 컴포넌트의 구조
```jsx
// App.jsx
import {
  Routes,
  Route,
  Link,
} from 'react-router-dom';

import HomePage from './HomePage';
import AboutPage from './AboutPage';
import NotFoundPage from './NotFoundPage';
import RestaurantsPage from './RestaurantsPage';
import RestaurantPage from './RestaurantPage';

export default function App() {
  return (
    <div>
      <header>
        <h1>
          <Link to="/">헤더 영역</Link>
        </h1>
      </header>
      <Routes>
        <Route path="/" element={<HomePage />} />
        <Route path="/about" element={<AboutPage />} />
        <Route path="/restaurants" element={<RestaurantsPage />} />
        <Route path="/restaurants/:id" element={<RestaurantPage />} />
        <Route path="*" element={<NotFoundPage />} />
      </Routes>
    </div>
  );
}
```
<img src="https://user-images.githubusercontent.com/87808288/190881020-fb2855cf-9619-4cfe-99ff-81f7c97f4e3e.png" width="30%">

위의 이미지는 <u>첫 홈화면</u>을 보여주고 있다. "About"을 클릭하면 "/about"으로 라우팅을 하여 AboutPage 컴포넌트를 렌더링하고, "Restaurants"를 클릭하면 "/restaurants"으로 라우팅하여 RestaurantsPage 컴포넌트를 렌더링하게 된다.

<img src="https://user-images.githubusercontent.com/87808288/190881141-aa6e141e-4692-47ac-8325-9083ba32cfa6.png" width="30%">
<img src="https://user-images.githubusercontent.com/87808288/190881226-7413a184-fd55-47fd-81d8-94e7ebb5133d.png" width="27%">

위의 이미지는 "Restaurants"를 클릭시 <span class="mediumblue">RestaurantsPage 컴포넌트</span>가 랜더링된 모습이다.

RestaurantsPage 컴포넌트는 <u>지역(RegionsContainer)</u>, <u>카테고리(CategoriesContainer)</u>, <u>레스토랑(RestaurantsContainer)</u> 3개의 컴포넌트로 구성되어 있다.

`RestaurantsPage 컴포넌트`는 랜더링되면 <u>처음에 한 번 fetch</u>가 이루어지면서 서버와 통신하여 <span class="crimson">dispatch를 통해 store에 해당 데이터를 업데이트</span>한다. 그렇게 지역과 카테고리에서 사용할 데이터가 store에 저장되어있고 <span class="forestgreen">RegionsContainer</span>와 <span class="forestgreen">CategoriesContainer</span>는 <span class="mediumblue">useSelector</span>를 사용하여 store에 저장된 데이터를 위의 첫 번째 이미지에서 보이는 것과 같이 화면을 랜더링한다.

<span class="forestgreen">지역</span>과 <span class="forestgreen">카테고리</span>를 클릭하여 <u>해당 정보에 맞는 레스토랑을 랜더링하기 위해서는</u> 어떤 지역을 클릭했고 어떤 카테고리를 클릭했는지 알아야한다. 그래서 `RegionsContainer`와 `CategoriesContainer`에 <u>click 이벤트</u>를 설정하여, 클릭시 선택한 data의 <span class="mediumblue">id값을 dispatch로 전달</span>하여 <span class="crimson">store에 이를 저장</span>한다. 또한 클릭 마다 선택한 지역이나 카테고리가 변경되기 때문에 그에 맞게 RestaurantsContainer의 내용이 변경될 수 있도록 <span class="mediumblue">dispatch에 함수를 반환하는 loadRestaurants라는 함수</span>를 실행시켜 변경된 내용을 새로 <span class="crimson">fetch 받아 state를 변경</span>할 수 있도록 한다. 그러면 ReataurantsContainer에서는 useSelecter를 사용하여 store에 저장된 restaurants를 사용하여 위의 두 번째 이미지와 같이 restaurants 목록을 화면에 랜더링하게 된다.

## 🟠 RestaurantDetail 컴포넌트
RestaurantPage -> RestaurantContainer -> `RestaurantDetail`

RestaurantDetail 컴포넌트는 <u>렌더링만을 관심사로</u> 가지는 컴포넌트이다. RestaurantContainer 컴포넌트에서 dispatch(loadRestaurant({ restaurantId }));를 통해서 fetch를 발생시켜 새롭게 <span class="mediumblue">저장한 data</span>(레스토랑 세부정보)를 RestaurantDetail로 <span class="forestgreen">props를 통해 전달</span>한다. 그리고 그 data의 대략적인 내용은 아래의 이미지와 같다.  
<img src="https://user-images.githubusercontent.com/87808288/190889775-c4802e2c-6a6f-48f0-a0b7-e4f8b2d51352.png" width="30%">

```jsx
// RestaurantDetail.jsx
export default function RestaurantDetail({ restaurant }) {
  const { name, address, menuItems } = restaurant;

  return (
    <div>
      <p>{name}</p>
      <p>{address}</p>
      <p>{JSON.stringify(menuItems)}</p>
      <p>{menuItems}</p> // 에러 발생
    </div>
  );
}
```

위의 코드를 살펴보면 `RestaurantDetail`에서는 <u>RestaurantContainer에서 내려준 restaurant</u> data를 이용해 화면을 랜더링해주고 있다. 그런데 여기서 menuItems를 확인하기 위해 이를 그대로 사용하면 <span class="crimson">에러가 발생</span>한다. 그 이유는 <span class="forestgreen">menuItems가 배열</span>이기 때문이다. 그 때문에 <u>배열의 data를 우선 확인</u>하고자 할 때에는 <span class="mediumblue">JSON.stringify</span> 메서드를 사용하여 그 데이터를 바로 출력하여 확인할 수 있다.  
<img src="https://user-images.githubusercontent.com/87808288/190890105-f540f149-1469-4d58-86ec-671fc6074929.png" width="40%">

# 🔴 라우팅
<u>click 이벤트</u>시 <span class="forestgreen">실행해야 할 함수가 한 개 이상일 때</span>에는 <span class="mediumblue">함수를 반환하는 함수</span>를 onClick 이벤트에 설정하면 된다.

목록을 클릭시 click 이벤트를 설정하여 useNavigate를 사용하여 url을 변경한다. 그렇게 라우터로 이미 설정되어 있는 해당 Page 컴포넌트로 이동하고, 여기서 

`RestaurantContainer`는 <u>'react-router'를 모르고</u> 실제로 <u>화면이 어떻게 랜더링되는지도 모른다</u>. 또한 `RestaurantDetail`에서는 <span class="forestgreen">오로지 랜더링하는 것에만 관심</span>을 가지게 된다.

## 🟠 로딩중 처리하기
B 레스토랑을 클릭했을 때, 잠깐동안 이전에 눌렀던 A 레스토랑의 세부정보가 나오는 것을 없애기 위해 loadRestaurant 함수의 내부에서 dispatch(setRestaurant(null));를 추가하여 



<!-- ① ② ③ ④ ⑤ ⑥ ⑦ ⑧ ⑨-->

<!-- ### 2. Link 넣기

```

유형 1: (설명어를 입력) : [gunhee's coding blog](https://gunhee-jeong.github.io/)
유형 2: (URL 자동연결) : <https://gunhee-jeong.github.io/>
유형 3: (동일 파일 내 '문단으로 이동') : [1. Header로 이동](###-1-header)

```

유형 1: (설명어를 입력) : [gunhee's coding blog](https://gunhee-jeong.github.io/)
유형 2: (URL 자동연결) : <https://gunhee-jeong.github.io/>
유형 3: (동일 파일 내 '문단으로 이동') : [1. Header로 이동](#1-header)
유형 3의 방법

1. 특수문자를 제거
2. 스페이스는 -로 바꾸고
3. 대문자는 소문자로!
   그래서 ### 1. Header -> #1-header

## Link: [google][https://www.google.com/]

### 3. 수평선

```

---

```

---

### 4. 라인 바꾸기

```

스페이스바를 2번 눌러주면 다음칸으로
이동할 수 있어요!

```

---

스페이스바를 2번 눌러주면
다음칸으로 이동할 수 있어요!

### 5. list 만들기

```

1. 1번
2. 2번
3. 3번

- 순서없는 list
  - 순서없는 list
    - 순서없는 list

```

1. 1번
2. 2번
3. 3번

- 순서없는 list
  - 순서없는 list
    - 순서없는 list

---

### 6. font 관련

```

**진하게** -> 볼드
_기울여서_ -> 이탤릭체
~~취소선~~ -> 취소선

<ul>밑줄넣기</ul> -> 밑줄
<span style="color:red">빨간 글씨</span> -> 글자색
이것이 `인라인` 입니다 -> 인라인 코드
```

**진하게** -> 볼드
_기울여서_ -> 이탤릭체
~~취소선~~ -> 취소선
<u>밑줄넣기</u> -> 밑줄
<span style="color:red">빨간 글씨</span>
이것이 `인라인` 입니다 -> 인라인 코드

---

### 7. 인용구문

```
> coding
>
> > JavaScript
> >
> > > 내가 프짱!
```

> coding
>
> > JavaScript
> >
> > > 내가 프짱!

---

### 8. 이미지 삽입

```
유형1: ('사이즈를 조절' -> HTML 태그 사용) : <img src="https://gunhee-jeong.github.io/assets/images/blogLogo.png" width="300" height="200">
유형2: (이미지 삽입 후 -> 링크 걸기)
[![이미지](https://gunhee-jeong.github.io/assets/images/blogLogo/blogLogo.png)](https://gunhee-jeong.github.io/)
```

유형1: ('사이즈를 조절' -> HTML 태그 사용) : <img src="https://gunhee-jeong.github.io/assets/images/blogLogo.png" width="300" height="200">
유형2: (이미지 삽입 후 -> 링크 걸기)
[![이미지](https://gunhee-jeong.github.io/assets/images/blogLogo.png)](https://gunhee-jeong.github.io/)

### 9. 표 만들기

```
||국어|영어|
| :--- | ---: | :--: |
|건희 | 100점 | 100점
|철수 | 100점 | 100점
```

|      |  국어 | 영어  |
| :--- | ----: | :---: |
| 건희 | 100점 | 100점 |
| 철수 | 100점 | 100점 |

> - header를 넣고 싶은 경우 ---을 사용하고 :을 이용하여 정렬에 사용함!

### 10. 토글 만들기

```
<details>
<summary>여기를 누르세요</summary>
<div markdown="1">
숨겨진 내용
</div>
</details>
```

<details>
<summary>여기를 누르세요</summary>
<div markdown="1">
숨겨진 내용
</div>
</details> -->
